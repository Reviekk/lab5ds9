<h1>Finalizar Compra</h1>

<div class="row">
  <div class="col-md-8">
    <div class="card mb-4">
      <div class="card-header bg-primary text-white">
        <h5 class="mb-0">Datos de Envío</h5>
      </div>
      <div class="card-body">
        <form id="checkout-form" action="/checkout/process" method="POST">
          <div class="row">
            <div class="col-md-6 mb-3">
              <label for="firstName">Nombre</label>
              <input type="text" class="form-control" id="firstName" name="firstName" required>
            </div>
            <div class="col-md-6 mb-3">
              <label for="lastName">Apellido</label>
              <input type="text" class="form-control" id="lastName" name="lastName" required>
            </div>
          </div>

          <div class="mb-3">
            <label for="email">Email</label>
            <input type="email" class="form-control" id="email" name="email" required>
          </div>

          <div class="mb-3">
            <label for="address">Dirección</label>
            <input type="text" class="form-control" id="address" name="address" required>
          </div>

          <div class="row">
            <div class="col-md-5 mb-3">
              <label for="city">Ciudad</label>
              <input type="text" class="form-control" id="city" name="city" required>
            </div>
            <div class="col-md-4 mb-3">
              <label for="province">Provincia</label>
              <select class="form-control" id="province" name="province" required>
                <option value="">Seleccionar...</option>
                <option value="Panama">Panamá</option>
                <option value="Colon">Colón</option>
                <option value="Chiriqui">Chiriquí</option>
                <option value="Cocle">Coclé</option>
                <option value="Veraguas">Veraguas</option>
                <option value="Herrera">Herrera</option>
                <option value="Los Santos">Los Santos</option>
                <option value="Bocas del Toro">Bocas del Toro</option>
                <option value="Darien">Darién</option>
              </select>
            </div>
            <div class="col-md-3 mb-3">
              <label for="zip">Código Postal</label>
              <input type="text" class="form-control" id="zip" name="zip">
            </div>
          </div>

          <div class="mb-3">
            <label for="phone">Teléfono</label>
            <input type="text" class="form-control" id="phone" name="phone" required>
          </div>

          <hr class="mb-4">
          
          <button class="btn btn-primary btn-lg btn-block" type="submit">
            Continuar al método de pago
          </button>
        </form>
      </div>
    </div>
  </div>
  
  <div class="col-md-4">
    <div class="card">
      <div class="card-header bg-primary text-white">
        <h5 class="mb-0">Resumen del Pedido</h5>
      </div>
      <div class="card-body">
        <ul class="list-group mb-3">
          <% for(let item of cart.items) { %>
            <li class="list-group-item d-flex justify-content-between lh-condensed">
              <div>
                <h6 class="my-0"><%= item.product.name %></h6>
                <small class="text-muted">Cantidad: <%= item.quantity %></small>
              </div>
              <span class="text-muted">            
            <div class="tab-pane fade" id="pills-checkout" role="tabpanel">
                <div class="card mb-4">
                    <div class="card-header">
                        <h4>5.4.lt;%= (item.product.price * item.quantity).toFixed(2) %></span>
            </li>
          <% } %>
          
          <li class="list-group-item d-flex justify-content-between">
            <span>Total</span>
            <strong>            
            <div class="tab-pane fade" id="pills-checkout" role="tabpanel">
                <div class="card mb-4">
                    <div class="card-header">
                        <h4>5.4.lt;%= cart.totalPrice.toFixed(2) %></strong>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>